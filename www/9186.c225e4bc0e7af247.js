"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9186],{9186:(T,f,c)=>{c.r(f),c.d(f,{CategoryPageModule:()=>x});var d=c(2200),p=c(4341),o=c(7343),_=c(8132),g=c(467),t=c(3664),l=c(2615),C=c(4191),v=c(7055);function k(i,r){if(1&i){const u=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-item",12)(2,"ion-avatar",13),t.nrm(3,"ion-icon",14),t.k0s(),t.j41(4,"ion-label")(5,"h2"),t.EFF(6),t.k0s()(),t.j41(7,"ion-buttons",6)(8,"ion-button",15),t.bIt("click",function(){const e=l.eBV(u).$implicit,a=t.XpG(2);return l.Njj(a.editCategory(e))}),t.nrm(9,"ion-icon",16),t.k0s(),t.j41(10,"ion-button",17),t.bIt("click",function(){const e=l.eBV(u).$implicit,a=t.XpG(2);return l.Njj(a.deleteCategory(e.id))}),t.nrm(11,"ion-icon",18),t.k0s()()(),t.j41(12,"ion-item-options",19)(13,"ion-item-option",20),t.bIt("click",function(){const e=l.eBV(u).$implicit,a=t.XpG(2);return l.Njj(a.editCategory(e))}),t.nrm(14,"ion-icon",21),t.k0s(),t.j41(15,"ion-item-option",22),t.bIt("click",function(){const e=l.eBV(u).$implicit,a=t.XpG(2);return l.Njj(a.deleteCategory(e.id))}),t.nrm(16,"ion-icon",23),t.k0s()()()}if(2&i){const u=r.$implicit;t.R7$(6),t.JRh(u.name)}}function b(i,r){if(1&i&&(t.j41(0,"ion-list"),t.DNE(1,k,17,1,"ion-item-sliding",11),t.k0s()),2&i){const u=t.XpG();t.R7$(),t.Y8G("ngForOf",u.categories)}}function j(i,r){1&i&&(t.j41(0,"div",24),t.nrm(1,"ion-icon",25),t.j41(2,"h2"),t.EFF(3,"Sin categor\xedas"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Agrega tu primera categor\xeda para comenzar a organizar tus tareas."),t.k0s()())}let h=(()=>{var i;class r{constructor(n,e,a,s){this.categoryService=n,this.alertCtrl=e,this.toastCtrl=a,this.router=s,this.categories=[]}ngOnInit(){var n=this;return(0,g.A)(function*(){yield n.loadCategories()})()}ionViewWillEnter(){var n=this;return(0,g.A)(function*(){yield n.loadCategories()})()}loadCategories(){var n=this;return(0,g.A)(function*(){n.categories=yield n.categoryService.getAll()})()}addCategory(){var n=this;return(0,g.A)(function*(){var a;yield(yield n.alertCtrl.create({header:"Nueva Categor\xeda",inputs:[{name:"name",type:"text",placeholder:"Nombre de la categor\xeda"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:(a=(0,g.A)(function*(s){const m=(s.name||"").trim();return 0===m.length?(yield(yield n.alertCtrl.create({header:"Campo obligatorio",message:"Por favor ingresa un nombre para la categor\xeda.",buttons:["Aceptar"]})).present(),!1):(yield n.categoryService.add(m),yield n.loadCategories(),n.showToast("Categor\xeda creada correctamente"),!0)}),function(m){return a.apply(this,arguments)})}]})).present()})()}editCategory(n){var e=this;return(0,g.A)(function*(){var s;yield(yield e.alertCtrl.create({header:"Editar Categor\xeda",inputs:[{name:"name",type:"text",value:n.name}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:(s=(0,g.A)(function*(m){const y=(m.name||"").trim();return 0===y.length?(yield(yield e.alertCtrl.create({header:"Campo obligatorio",message:"Por favor ingresa un nombre para la categor\xeda.",buttons:["Aceptar"]})).present(),!1):(yield e.categoryService.update(n.id,y),yield e.loadCategories(),e.showToast("Categor\xeda actualizada"),!0)}),function(y){return s.apply(this,arguments)})}]})).present()})()}deleteCategory(n){var e=this;return(0,g.A)(function*(){yield e.categoryService.delete(n),yield e.loadCategories(),e.showToast("Categor\xeda eliminada")})()}showToast(n){var e=this;return(0,g.A)(function*(){yield(yield e.toastCtrl.create({message:n,duration:1500,position:"bottom"})).present()})()}goBackToTasks(){this.router.navigate(["/home"])}static#t=i=()=>(this.\u0275fac=function(e){return new(e||r)(t.rXU(C.M),t.rXU(o.hG),t.rXU(o.K_),t.rXU(v.Ix))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-category"]],decls:14,vars:3,consts:[["noData",""],["translucent",""],["color","primary"],["slot","start"],["defaultHref","/home","text",""],["name","pricetags-outline","slot","start"],["slot","end"],[3,"click"],["slot","icon-only","name","add-circle-outline"],[1,"ion-padding",3,"fullscreen"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["lines","full"],["slot","start",1,"category-avatar"],["name","folder-outline"],["fill","clear","color","tertiary",3,"click"],["slot","icon-only","name","create-outline"],["fill","clear","color","danger",3,"click"],["slot","icon-only","name","trash-outline"],["side","end"],["color","tertiary",3,"click"],["name","create-outline"],["color","danger",3,"click"],["name","trash-outline"],[1,"empty-state","ion-text-center"],["name","folder-open-outline","size","large"]],template:function(e,a){if(1&e){const s=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.nrm(5,"ion-icon",5),t.EFF(6," Categor\xedas "),t.k0s(),t.j41(7,"ion-buttons",6)(8,"ion-button",7),t.bIt("click",function(){return l.eBV(s),l.Njj(a.addCategory())}),t.nrm(9,"ion-icon",8),t.k0s()()()(),t.j41(10,"ion-content",9),t.DNE(11,b,2,1,"ion-list",10)(12,j,6,0,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const s=t.sdS(13);t.R7$(10),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",a.categories.length>0)("ngIfElse",s)}},dependencies:[d.MD,d.Sq,d.bT,p.YN,o.bv,o.mC,o.Jm,o.QW,o.W9,o.eU,o.iq,o.uz,o.LU,o.CE,o.A7,o.he,o.nf,o.BC,o.ai,o.el],styles:[".category-avatar[_ngcontent-%COMP%]{background:var(--ion-color-light);color:var(--ion-color-primary);display:flex;align-items:center;justify-content:center;font-size:1.4rem}.empty-state[_ngcontent-%COMP%]{margin-top:20vh;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3rem;color:#fff;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-dark);margin-bottom:.3rem}"]}))}return i(),r})();const P=[{path:"",component:h}];let A=(()=>{var i;class r{static#t=i=()=>(this.\u0275fac=function(e){return new(e||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=l.G2t({imports:[_.iI.forChild(P),_.iI]}))}return i(),r})(),x=(()=>{var i;class r{static#t=i=()=>(this.\u0275fac=function(e){return new(e||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=l.G2t({imports:[d.MD,p.YN,o.bv,A,h]}))}return i(),r})()}}]);