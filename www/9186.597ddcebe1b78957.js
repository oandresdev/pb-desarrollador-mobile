"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9186],{9186:(T,y,l)=>{l.r(y),l.d(y,{CategoryPageModule:()=>M});var d=l(2200),f=l(4341),o=l(7343),h=l(8132),g=l(467),_=l(5312),t=l(3664),c=l(2615),v=l(4191),b=l(2122);function k(a,r){if(1&a){const u=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-item",12)(2,"ion-avatar",13),t.nrm(3,"ion-icon",14),t.k0s(),t.j41(4,"ion-label")(5,"h2"),t.EFF(6),t.k0s()(),t.j41(7,"ion-buttons",6)(8,"ion-button",15),t.bIt("click",function(){const e=c.eBV(u).$implicit,i=t.XpG(2);return c.Njj(i.editCategory(e))}),t.nrm(9,"ion-icon",16),t.k0s(),t.j41(10,"ion-button",17),t.bIt("click",function(){const e=c.eBV(u).$implicit,i=t.XpG(2);return c.Njj(i.deleteCategory(e.id))}),t.nrm(11,"ion-icon",18),t.k0s()()(),t.j41(12,"ion-item-options",19)(13,"ion-item-option",20),t.bIt("click",function(){const e=c.eBV(u).$implicit,i=t.XpG(2);return c.Njj(i.editCategory(e))}),t.nrm(14,"ion-icon",21),t.k0s(),t.j41(15,"ion-item-option",22),t.bIt("click",function(){const e=c.eBV(u).$implicit,i=t.XpG(2);return c.Njj(i.deleteCategory(e.id))}),t.nrm(16,"ion-icon",23),t.k0s()()()}if(2&a){const u=r.$implicit;t.R7$(6),t.JRh(u.name)}}function P(a,r){if(1&a&&(t.j41(0,"ion-list"),t.DNE(1,k,17,1,"ion-item-sliding",11),t.k0s()),2&a){const u=t.XpG();t.R7$(),t.Y8G("ngForOf",u.categories)}}function j(a,r){1&a&&(t.j41(0,"div",24),t.nrm(1,"ion-icon",25),t.j41(2,"h2"),t.EFF(3,"Sin categor\xedas"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Agrega tu primera categor\xeda para comenzar a organizar tus tareas."),t.k0s()())}let C=(()=>{var a;class r{constructor(n,e,i,s){this.categoryService=n,this.alertCtrl=e,this.toastCtrl=i,this.router=s,this.environment=_.c,this.categories=[]}ngOnInit(){var n=this;return(0,g.A)(function*(){yield n.loadCategories()})()}ionViewWillEnter(){var n=this;return(0,g.A)(function*(){yield n.loadCategories()})()}loadCategories(){var n=this;return(0,g.A)(function*(){n.categories=yield n.categoryService.getAll()})()}addCategory(){var n=this;return(0,g.A)(function*(){var i;yield(yield n.alertCtrl.create({header:"Nueva Categor\xeda",inputs:[{name:"name",type:"text",placeholder:"Nombre de la categor\xeda"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:(i=(0,g.A)(function*(s){const m=(s.name||"").trim();return 0===m.length?(yield(yield n.alertCtrl.create({header:"Campo obligatorio",message:"Por favor ingresa un nombre para la categor\xeda.",buttons:["Aceptar"]})).present(),!1):(yield n.categoryService.add(m),yield n.loadCategories(),n.showToast("Categor\xeda creada correctamente"),!0)}),function(m){return i.apply(this,arguments)})}]})).present()})()}editCategory(n){var e=this;return(0,g.A)(function*(){var s;yield(yield e.alertCtrl.create({header:"Editar Categor\xeda",inputs:[{name:"name",type:"text",value:n.name}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:(s=(0,g.A)(function*(m){const p=(m.name||"").trim();return 0===p.length?(yield(yield e.alertCtrl.create({header:"Campo obligatorio",message:"Por favor ingresa un nombre para la categor\xeda.",buttons:["Aceptar"]})).present(),!1):(yield e.categoryService.update(n.id,p),yield e.loadCategories(),e.showToast("Categor\xeda actualizada"),!0)}),function(p){return s.apply(this,arguments)})}]})).present()})()}deleteCategory(n){var e=this;return(0,g.A)(function*(){var s;yield(yield e.alertCtrl.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro que deseas eliminar esta categor\xeda?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:(s=(0,g.A)(function*(){yield e.categoryService.delete(n),yield e.loadCategories(),e.showToast("Categor\xeda eliminada")}),function(){return s.apply(this,arguments)})}]})).present()})()}showToast(n){var e=this;return(0,g.A)(function*(){yield(yield e.toastCtrl.create({message:n,duration:1500,position:"bottom"})).present()})()}goBackToTasks(){this.router.navigate([_.c.TASK])}static#t=a=()=>(this.\u0275fac=function(e){return new(e||r)(t.rXU(v.M),t.rXU(o.hG),t.rXU(o.K_),t.rXU(b.Ix))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-category"]],decls:14,vars:4,consts:[["noData",""],["translucent",""],["color","primary"],["slot","start"],["text","",3,"defaultHref"],["name","pricetags-outline","slot","start"],["slot","end"],["color","light",3,"click"],["slot","icon-only","name","add-circle-outline"],[1,"ion-padding",3,"fullscreen"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["lines","none",1,"category-item"],["slot","start",1,"category-avatar"],["name","folder-outline"],["fill","clear","color","tertiary",3,"click"],["slot","icon-only","name","create-outline"],["fill","clear","color","danger",3,"click"],["slot","icon-only","name","trash-outline"],["side","end"],["color","tertiary",3,"click"],["name","create-outline"],["color","danger",3,"click"],["name","trash-outline"],[1,"empty-state","ion-text-center"],["name","folder-open-outline"]],template:function(e,i){if(1&e){const s=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.nrm(5,"ion-icon",5),t.EFF(6," Categor\xedas "),t.k0s(),t.j41(7,"ion-buttons",6)(8,"ion-button",7),t.bIt("click",function(){return c.eBV(s),c.Njj(i.addCategory())}),t.nrm(9,"ion-icon",8),t.k0s()()()(),t.j41(10,"ion-content",9),t.DNE(11,P,2,1,"ion-list",10)(12,j,6,0,"ng-template",null,0,t.C5r),t.k0s()}if(2&e){const s=t.sdS(13);t.R7$(3),t.Y8G("defaultHref",i.environment.TASK),t.R7$(7),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",i.categories.length>0)("ngIfElse",s)}},dependencies:[d.MD,d.Sq,d.bT,f.YN,o.bv,o.mC,o.Jm,o.QW,o.W9,o.eU,o.iq,o.uz,o.LU,o.CE,o.A7,o.he,o.nf,o.BC,o.ai,o.el],styles:[".category-item[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:8px;box-shadow:0 2px 6px #00000014;transition:transform .2s ease}.category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.category-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#ecececa2;font-size:1.5rem;color:#555}.empty-state[_ngcontent-%COMP%]{margin-top:20%}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;color:#999;margin-bottom:12px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.95rem}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}"]}))}return a(),r})();const x=[{path:"",component:C}];let A=(()=>{var a;class r{static#t=a=()=>(this.\u0275fac=function(e){return new(e||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=c.G2t({imports:[h.iI.forChild(x),h.iI]}))}return a(),r})(),M=(()=>{var a;class r{static#t=a=()=>(this.\u0275fac=function(e){return new(e||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=c.G2t({imports:[d.MD,f.YN,o.bv,A,C]}))}return a(),r})()}}]);